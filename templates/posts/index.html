{% extends "base.html" %}

{% block title %}–ì–ª–∞–≤–Ω–∞—è - PivooReddit{% endblock %}

{% block content %}
<div class="home-container">
    <div class="home-header">
        <h1>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ PivooReddit! üì±</h1>
        <p>–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –∞–Ω–∞–ª–æ–≥ Reddit —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–º–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏</p>
    </div>
    
    {% if current_user.is_authenticated %}
        <div class="user-welcome">
            –ü—Ä–∏–≤–µ—Ç, <strong>{{ current_user.username }}</strong>! –í–∞—à–∞ –∫–∞—Ä–º–∞: <strong>{{ current_user.karma }}</strong>
        </div>
    {% else %}
        <div class="login-prompt">
            <p><a href="{{ url_for('login') }}">–í–æ–π–¥–∏—Ç–µ</a> –∏–ª–∏ <a href="{{ url_for('register') }}">–∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å</a> —á—Ç–æ–±—ã —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø–æ—Å—Ç—ã –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏</p>
        </div>
    {% endif %}
    
    <div class="sort-bar">
        <a href="{{ url_for('index', sort='hot') }}" class="sort-link {% if sort == 'hot' %}active{% endif %}">üî• –ì–æ—Ä—è—á–µ–µ</a>
        <a href="{{ url_for('index', sort='new') }}" class="sort-link {% if sort == 'new' %}active{% endif %}">‚ú® –ù–æ–≤–æ–µ</a>
        <a href="{{ url_for('index', sort='top') }}" class="sort-link {% if sort == 'top' %}active{% endif %}">üèÜ –¢–æ–ø</a>
    </div>
    
    {% if posts.items %}
        <div class="posts-list">
            {% for post in posts.items %}
                {% include "posts/post_item.html" %}
            {% endfor %}
        </div>
        
        {% if posts.pages > 1 %}
            <div class="pagination">
                {% if posts.has_prev %}
                    <a href="{{ url_for('index', page=posts.prev_num, sort=sort) }}" class="pagination-link">‚Üê –ü—Ä–µ–¥—ã–¥—É—â–∞—è</a>
                {% endif %}
                
                <span class="pagination-info">–°—Ç—Ä–∞–Ω–∏—Ü–∞ {{ posts.page }} –∏–∑ {{ posts.pages }}</span>
                
                {% if posts.has_next %}
                    <a href="{{ url_for('index', page=posts.next_num, sort=sort) }}" class="pagination-link">–°–ª–µ–¥—É—é—â–∞—è ‚Üí</a>
                {% endif %}
            </div>
        {% endif %}
    {% else %}
        <div class="empty-state">
            <p>–ü–æ–∫–∞ –Ω–µ—Ç –ø–æ—Å—Ç–æ–≤. –ë—É–¥—å—Ç–µ –ø–µ—Ä–≤—ã–º!</p>
            {% if current_user.is_authenticated %}
                <a href="{{ url_for('create_post') }}" class="btn btn-primary">–°–æ–∑–¥–∞—Ç—å –ø–æ—Å—Ç</a>
            {% endif %}
        </div>
    {% endif %}
</div>
{% endblock %}
