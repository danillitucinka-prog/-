{% extends "base.html" %}

{% block title %}–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ - PivooReddit{% endblock %}

{% block content %}
<div class="users-container">
    <h1>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</h1>
    
    <div class="sort-bar">
        <a href="{{ url_for('users_list', sort='karma') }}" class="sort-link {% if sort == 'karma' %}active{% endif %}">üí∞ –ü–æ –∫–∞—Ä–º–µ</a>
        <a href="{{ url_for('users_list', sort='created_at') }}" class="sort-link {% if sort == 'created_at' %}active{% endif %}">‚ú® –ü–æ –¥–∞—Ç–µ</a>
        <a href="{{ url_for('users_list', sort='followers') }}" class="sort-link {% if sort == 'followers' %}active{% endif %}">üë• –ü–æ –ø–æ–¥–ø–∏—Å—á–∏–∫–∞–º</a>
    </div>
    
    {% if users.items %}
        <div class="users-grid">
            {% for user in users.items %}
                <div class="user-card">
                    <img src="{{ user.avatar_url }}" alt="{{ user.username }}" class="user-avatar-large">
                    <h3>
                        <a href="{{ url_for('user_profile', username=user.username) }}">{{ user.username }}</a>
                        {% if user.is_verified %}
                            <span class="verified-badge">‚úì</span>
                        {% endif %}
                    </h3>
                    
                    <div class="user-stats">
                        <span class="stat">üí∞ {{ user.karma }}</span>
                        <span class="stat">üë• {{ user.followers|length }}</span>
                    </div>
                    
                    {% if user.bio %}
                        <p class="user-bio">{{ user.bio[:100] }}</p>
                    {% endif %}
                    
                    <a href="{{ url_for('user_profile', username=user.username) }}" class="btn btn-secondary">–ü—Ä–æ—Ñ–∏–ª—å</a>
                </div>
            {% endfor %}
        </div>
        
        {% if users.pages > 1 %}
            <div class="pagination">
                {% if users.has_prev %}
                    <a href="{{ url_for('users_list', page=users.prev_num, sort=sort) }}" class="pagination-link">‚Üê –ü—Ä–µ–¥—ã–¥—É—â–∞—è</a>
                {% endif %}
                
                <span class="pagination-info">–°—Ç—Ä–∞–Ω–∏—Ü–∞ {{ users.page }} –∏–∑ {{ users.pages }}</span>
                
                {% if users.has_next %}
                    <a href="{{ url_for('users_list', page=users.next_num, sort=sort) }}" class="pagination-link">–°–ª–µ–¥—É—é—â–∞—è ‚Üí</a>
                {% endif %}
            </div>
        {% endif %}
    {% else %}
        <p class="empty-state">–ü–æ–∫–∞ –Ω–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</p>
    {% endif %}
</div>
{% endblock %}
